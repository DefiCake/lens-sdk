overwrite: true
hooks:
  afterAllFileWrite:
    - prettier --write
watch: false
config:
  strictScalars: true

  scalars:
    AppId: string
    AudioMimeType: string
    BlockchainData: string
    BroadcastId: string
    ChainId: string
    ChallengeId: string
    CollectModuleData: string
    ContentEncryptionKey: string
    ContractPublicationId: string
    CreateDeleteEIP712TypedData: string
    CreateHandle: string
    CreateMirrorEIP712TypedData: string
    Cursor: string
    DateTime: string
    EncryptedValueScalar: string
    Ens: string
    Erc20: string
    EvmAddress: string
    FeedId: string
    FollowModuleData: string
    Handle: string
    HandleClaimIdScalar: string
    ImageMimeType: string
    ImageSizeTransform: ImageSizeTransform
    IpfsCid: string
    Jwt: string
    Limit: string
    Locale: string
    Location: string
    Markdown: string
    MetadataLicenseType: string
    MetadataMediaAudioType: string
    MimeType: string
    MomokaId: string
    MomokaProof: string
    MomokaTransactionUnion: string
    NftGalleryId: string
    NftOwnershipChallengeId: string
    NftTokenId: string
    Nonce: string
    NotificationId: string
    ProfileId: string
    ProfileInterest: string
    ProfileSortCriteria: string
    PublicationId: string
    PublicationTag: string
    PublicationUrl: string
    ReactionId: string
    ReferenceModuleData: string
    Signature: string
    ThreeDFormat: string
    TxHash: string
    TxId: string
    UnixTimestamp: string
    Uri: string
    Url: string
    VideoMimeType: string
    Void: string

  avoidOptionals:
    field: true

schema:
  - ./lens-v2.graphql
documents:
  - src/**/*.graphql
generates:
  src/graphql/types.generated.ts:
    plugins:
      - 'add':
          content: ["import type { ImageSizeTransform } from './ImageSizeTransform';"]
      - 'typescript':
          nonOptionalTypename: true
          onlyOperationTypes: true # scalars and enums
  ./:
    preset: near-operation-file
    presetConfig:
      extension: .generated.ts
      baseTypesPath: src/graphql/types.generated.ts
    plugins:
      - 'add':
          content: ['// @ts-nocheck']
      - 'typescript-operations':
          skipTypename: true
          inlineFragmentTypes: combine
          # omitOperationSuffix: true
          # operationResultSuffix: 'Data'
      - 'typescript-graphql-request':
          rawRequest: true
          # omitOperationSuffix: true
          # operationResultSuffix: 'Data'
          # fragmentVariablePrefix: Fragment
